function ThemeVariation(){}function CategorizeVariations(){}function CategorizeVariationsNames(){}function ctrVariations(){}function ctrVariationsNames(){}function DecisionTreeVariations(){}function DecisionTreeVariationsNames(){}function DragDropSortVariations(){}function DragDropSortVariationsNames(){}function FibVariations(){}function FibVariationsNames(){}function HotspotVariations(){}function HotspotVariationsNames(){}function MatchPairsVariations(){}function MatchPairsVariationsNames(){}function SequenceVariations(){}function SequenceVariationsNames(){}function TeachScreenVariations(){}function TeachScreenVariationsNames(){}function VideoVariations(){}function AssetUtils(){}function AudioPlayerFactory(){}function Configuration(){this.assetLocation=""}function ExampleAdapter(){}function HintAdapter(){}function MediaElementAdapter(){}function MediaTypes(){}function Messages(){}function PageDataHandler(){}function PageDataProcessor(){}function PreviewModes(){}function VideoPlayerFactory(){}function refreshPage(){var a=jQuery.Event("refresh");$(window).trigger(a)}function hintComponentSetter(a){function b(a){a.stopPropagation()}function c(a){var b=a.data.context,c=b.getTrigger().data("tooltip");c.hide()}$("#bottomLinks").show(),$("#cboxClose, .tip ,.cboxElement").enterEnabled(),$("#cboxClose, .tip").bind("enter",function(){$(this).click()}),$(".tip").tooltip({relative:!0,position:"top right",events:{def:"click enter, mousedownoutside keydownoutside",tooltip:"mouseover touchstart, mouseleave touchend blur click keypress"},onShow:function(){ClientInformation.isMobileDevice()||this.getTip().focus(),this.getTip().bind("mousedown keypress",b),$(document).bind("DOMMouseScroll mousewheel touchstart",{context:this},c),$(window).bind("resize",{context:this},c)},onHide:function(){ClientInformation.isMobileDevice()||this.getTrigger().focus(),this.getTip().unbind("mousedown keypress",b),$(document).unbind("DOMMouseScroll mousewheel touchstart",c),$(window).unbind("resize",c)}}).dynamic(),apiTooltip=$(".tip").data("tooltip"),$(".tooltip").empty(),$(".tip").attr("tabindex",tabIndex++),$(".tooltip").attr("tabindex",tabIndex++),$("#bottomLinks").show(),$(".tooltip").append(dataObject.hintInformation.text?"<p>"+a.text+"</p>":""),$(".tooltip, .tooltip p").bind("touchstart touchend",function(a){a.stopPropagation()})}function exampleComponentSetter(){if($("#bottomLinks").show(),$("#example-info").empty(),$("#exampleContainer a,#cboxClose a").enterEnabled(),$("#cboxClose a").bind("enter",function(){$(this).click()}),$("#exampleContainer a").bind("enter",function(){$(this).click()}),$("#exampleContainer a").attr("tabindex",tabIndex++),$("#exampleContainer a").colorbox($.extend({},colorBoxConfiguration,{href:"#example-info",onComplete:function(){onModalComplete()},onCleanup:onModalCleanUp,onClosed:function(){onModalClose(),$("#exampleContainer a").focus()}})),dataObject.exampleInformation.media&&dataObject.exampleInformation.media.hasMedia){var a=dataObject.exampleInformation.media;if(a.urls["default"]){var b=mediaImage.createElement(a);tabIndex=mediaImage.setTabIndices(b,tabIndex)}if($("#example-info").append(b),!ClientInformation.isMobileDevice()&&dataObject.rolloverCaption&&($(b).find(".caption").remove(),dataObject.exampleInformation.media.caption)){var c=dataObject.exampleInformation.media.caption;$(b).find("img").attr("title",$(c).text())}}dataObject.exampleInformation.text?$("#example-info").append("<p tabindex='"+tabIndex++ +"' class='info'>"+dataObject.exampleInformation.text+"</p>"):$("#example-info #mediaWrapper").addClass("mediaOnlyExample");var d=$("<div/>");$(d).addClass("clearFloat"),$("#example-info").append(d)}function audioComponentSetter(a){if(mode!=PreviewModes.PLAYER_PREVIEW_MODE){var b=AudioPlayerFactory.createPlayer("directionAudio","Direction Audio","directionAudioWrapper");$("#directionAudioContainer").append(b),$("#directionAudio").jPlayer({ready:function(){$(this).jPlayer("setMedia",{mp3:a.urls.mp3,oga:a.urls.oga}),a.autoPlay&&$(this).jPlayer("play"),$("#directionAudio-container a").enterEnabled(),$("#directionAudio-container a").bind("enter",function(){$(this).click()})},play:function(){$("#directionAudio-container .jp-pause").focus(),$("#mainVideo").jPlayer("pause"),player&&player.doPause()},pause:function(){$("#directionAudio-container .jp-play").focus()},swfPath:"../../scripts/plugins/jPlayer/",supplied:"mp3,oga",wmode:"window",cssSelectorAncestor:"#directionAudioWrapper"}),$("#directionAudioWrapper .jp-play").attr("tabindex",tabIndex++),$("#directionAudioWrapper .jp-pause").attr("tabindex",tabIndex++),$("#directionAudioWrapper .jp-stop").attr("tabindex",tabIndex++),$(".jp-play, .jp-pause, .jp-stop").bind("enter",function(){if($(".jp-play").is(":focus")&&($(".jp-pause").focus(),$(this).click()),$(".jp-pause").is(":focus")&&($(".jp-play").focus(),$(this).click()),$(".jp-stop").is(":focus")){$(this).click();var a=$(this).attr("tabindex");$("p[tabindex='"+a+"1']")}}),$(".jp-play, .jp-pause, .jp-stop").enterEnabled(),$(".jp-mute").remove(),$(".jp-unmute").remove(),$(".jp-volume-max").remove()}else $("#directionAudioContainer").remove()}function initializeBugsTpesContainer(){if(makeCommentableallCommonComponents(),window.parent.parent.playerMode==PreviewModes.REVIEWER_PREVIEW_MODE){var a=$('<div class="commentContainerParent" id="commentContainerParent"></div>');$(a).height($(window).height());var b=$("<div id='bugTypesContainer'></div>");$(window.parent.parent.bugTypesList).each(function(a){var c=$('<div class="bugContainer">   </div>'),d=$('<div class="bugWrapper" id="bugWrapper'+(a+1)+'"></div>'),e=$('<div class="TypoError"><img src="'+this.iconPath+'"> </div>'),f=$('<div class="overlayGlow"></div>');$(e).append(f),$(e).bind("mouseup",oncommentdpopped);var g=this;g.parentId="bugWrapper"+(a+1),$(e).data("data",g),9!=this.bugTypeId?($(e).draggable({revert:"invalid",containment:"#templateContainer",revertDuration:200}),$(e).addClass("otherBug"),$(e).bind("dragstop",function(){$(e).css("z-index",999),$(e).parent().is(".bugWrapper")&&$(e).css("left","7px")})):($(e).draggable({revert:"invalid",containment:"body",revertDuration:200}),$(e).addClass("globalBug"),$(e).bind("dragstop",function(){$(e).css("z-index",999),$(e).parent().is(".bugWrapper")&&$(e).css("left","7px")}));var h=$('<div class="nameoftheclass" >'+this.name+"  </div>"),i=$('<div class="sep"></div>');$(d).append(e),$(d).append('<img class="dummyImage" src="'+this.iconPath+'"/>'),$(c).append(d),$(c).append(h),$(c).append(i),$(b).append(c)});var c=$("<div id='templateContainer'></div>");$("body").append(c),$(c).append(a),$(a).append(b);var d=$('<div id="bugContentContainer"></div>'),e=$('<div id="bugsHeader"><span>Comments</span></div>');$(d).append(e);var f=$('<div id="bugsAccordion"></div>');$(d).append(f),$(c).append($("#pageContainer")),$("#pageContainer").addClass("commentsMode"),window.parent.parent.dropDownMode||$("#commentContainerParent").hide(),makeComponentsDropable()}}function makeCommentableallCommonComponents(){$("#description").attr("data-id","Introduction"),$("#direction").attr("data-id","Introduction"),$("#header").attr("data-id","Header"),$("#introduction").attr("data-id","Introduction"),$("#instruction").attr("data-id","Instruction"),$("#question").attr("data-id","Question"),$("#header").addClass("commentable"),$("#introduction").addClass("commentable"),$("#instruction").addClass("commentable"),$("#description").addClass("commentable"),$("#question").addClass("commentable"),$("#direction").addClass("commentable"),$("#exampleContentWrapper").addClass("commentable"),$("#exampleContentWrapper").attr("data-id","Example Content"),$("#example-info").addClass("commentable"),$("#example-info").attr("data-id","Example Content")}function oncommentDrag(a){yPos=$(a.currentTarget).position().top,xPos=$(a.currentTarget).position().left}function makeComponentsDropable(){$(".commentable").droppable({drop:function(a,b){oncommentDragEnd(b.draggable,a.target)},activeClass:"highlight",greedy:!0,tolerance:"pointer",accept:".otherBug"}),$("#globalBugsWrapper").droppable({drop:function(a,b){onGlobalCommentDragEnd(b.draggable,a.target)},activeClass:"highlight",greedy:!0,tolerance:"pointer",accept:".globalBug"})}function oncommentdpopped(a){var b=a;yPos=parseInt(b.pageY)+parseInt($("#pageContainer").scrollTop())-parseInt($(a.currentTarget).height())/2,xPos=parseInt(b.pageX)-parseInt($(a.currentTarget).width())/2}function getOffset(a){for(var b=0,c=0;a;)b+=parseInt(a.offsetLeft)+parseInt(a.clientLeft),c+=parseInt(a.offsetTop)+parseInt(a.clientTop),a=a.offsetParent;return{x:b,y:c}}function onGlobalCommentDragEnd(a,b){saveMode="add";var c=getOffset(b),d=c.y,e=c.x,f=$(a).data("data"),g=new Bug,h={};h.name=f.name,h.bugTypeId=f.bugTypeId,h.description="",h.leftPos=xPos-e,h.topPos=yPos-d,h.x=xPos-e,h.y=yPos-d,h.componentId=$(b).data("id"),getSelectionText()&&(h.selectedText=getSelectionText()),$(b).append(a),$(a).css("position","relative !important"),$(a).css("left",""),$(a).css("top",""),$(a).data("bugInfo",h),$(a).unbind("mouseup",oncommentdpopped),$(a).addClass("New"),$(a).unbind("dragstart");var i=$(a).data("data"),j=$('<div class="TypoError globalBug"><img src="'+i.iconPath+'"></div>');$("#"+i.parentId).prepend(j),$(j).draggable({revert:"invalid",containment:"body",revertDuration:150}),$(j).data("data",i),$(j).bind("dragstop",function(){$(j).css("z-index",999),$(j).parent().is(".bugWrapper")&&$(j).css("left","7px")}),$(j).bind("mouseup",oncommentdpopped),$(a).draggable("destroy"),$(a).removeClass("bug"),$(a).addClass("openBugs"),g.set(h),setTimeout(function(){$(a).bind("click",{param:g},window.parent.parent.editComment),$(a).trigger("click")},0)}function oncommentDragEnd(a,b){saveMode="add";var c=getOffset(b),d=c.y,e=c.x,f={},g=$(a).data("data");f.name=g.name,f.bugTypeId=g.bugTypeId,f.description="",f.selectedText=getSelectionText(),f.leftPos=xPos-e,f.topPos=yPos-d,f.x=xPos-e,f.y=yPos-d,f.componentId=$(b).data("id"),getSelectionText()&&(f.selectedText=getSelectionText()),$(b).append(a),$(a).css("top",yPos-d),$(a).css("left",xPos-e),$(a).css("position","absolute !important"),$(a).data("bugInfo",f),$(a).unbind("mouseup",oncommentdpopped),$(a).addClass("New"),$(a).unbind("dragstart");var h=$(a).data("data"),i=$('<div class="TypoError otherBug"><img src="'+h.iconPath+'"></div>');$("#"+h.parentId).prepend(i),$(i).data("data",$(a).data("data")),$(i).draggable({revert:"invalid",containment:"#templateContainer",revertDuration:200}),$(i).bind("dragstart",function(){$(i).parent().is(".bugWrapper")&&$(i).css("left","7px")}),$(i).bind("mouseup",oncommentdpopped),$(a).draggable("destroy"),$(a).removeClass("bug"),$(a).addClass("openBugs");var j=new Bug;j.set(f),setTimeout(function(){$(a).bind("click",{param:j},window.parent.parent.editComment),$(a).trigger("click")},0)}function hideBugtypesContainer(){$("#commentContainerParent").hide(),$(".TypoError").hide(),$("#globalBugsContainer").hide()}function showBugtypesContainer(){$("#commentContainerParent").show(),$(".TypoError").show(),$("#globalBugsContainer").show()}function getSelectionText(){var a="";return window.getSelection?a=window.getSelection().toString():document.selection&&"Control"!=document.selection.type&&(a=document.selection.createRange().text),a}function onModalOpen(){ClientInformation.isMobileDevice()}function onModalComplete(){ClientInformation.isMobileDevice()||$.colorbox.resize({innerWidth:$("#cboxLoadedContent").width()+10}),setFocusOnModalWindowContent(),$("#cboxClose a").attr("tabindex","510"),$("#cboxClose a").enterEnabled(),$("#cboxClose a").bind("enter",function(){$(this).click()}),setTimeout(function(){ClientInformation.isMobileDevice()},0),$.browser.msie?navigator.userAgent.indexOf("Tablet")&&setTimeout(function(){$(window).bind("resize",closeColorBox)},1e3):setTimeout(function(){$(window).bind("resize",closeColorBox)},1e3),$("#cboxClose a").bind("touchstart",ColorBoxHelperFunctions.onCloseButtonClick),$("#bugTypesContainer").length&&$("#pageContainer .commentable,#globalBugsWrapper").droppable("option","disabled",!0),$("#globalBugsWrapper").addClass("commentableDisabled").removeClass("glabalCommentable"),$("#pageContainer .commentable").addClass("commentableDisabled").removeClass("commentable")}function closeColorBox(){$.colorbox.close()}function onModalCleanUp(){$("#cboxLoadedContent > *:first-child").removeAttr("style"),$("#cboxClose a").unbind("touchstart",ColorBoxHelperFunctions.onCloseButtonClick),$(".glossaryDescriptionWrapper").hide()}function onModalClose(){keepFocusOnModalInetrvalIdentifier&&(clearInterval(keepFocusOnModalInetrvalIdentifier),keepFocusOnModalInetrvalIdentifier=""),ClientInformation.isMobileDevice(),refreshPage(),$(window).unbind("resize",closeColorBox),$("#globalBugsWrapper").removeClass("commentableDisabled").addClass("glabalCommentable"),$("#pageContainer .commentableDisabled").removeClass("commentableDisabled").addClass("commentable"),$("#bugTypesContainer").length&&$("#pageContainer .commentable,#globalBugsWrapper").droppable("option","disabled",!1)}function setFocusOnModalWindowContent(){$("#cboxLoadedContent").find("h1, h2, h3, h4, h5, h6, h7").size()?$($("#cboxLoadedContent").find("h1, h2, h3, h4, h5, h6, h7").first()).focus():$("#cboxLoadedContent").find("img[tabindex]").size()?$("#cboxLoadedContent").find("img[tabindex]:first").focus():$("#cboxLoadedContent").find("*[tabindex]:first").focus()}function keepFocusOnModalElements(){$("#cboxContent").find("*:focus").size()<=0&&($("*:focus").hasClass("glossaryDescriptionWrapper")||$("*:focus").parents(".glossaryDescriptionWrapper").size()||setFocusOnModalWindowContent())}function renderTimer(){dataObject.activitytime&&setTimeout(function(){$("#instructionContainer").size()?$("#instructionContainer").after("<div id='timerwrapper'><div id='timer_time' style='display:inline;'><span id='min_text'>00</span><span> min </span><span id='sec_text'>00</span><span> sec </span></div></div>"):$("#instruction").size()&&$("#instruction").after("<div id='timerwrapper'><div id='timer_time' style='display:inline;'><span id='min_text'>00</span><span> min </span><span id='sec_text'>00</span><span> sec </span></div></div>");var a=dataObject.activitytime;if(a=parseInt(a),a>0){a/=1e3,timer_min=parseInt(a/60),timer_sec=a%60;var b=a;window.time=setInterval(function(){timer_min=parseInt(b/60),timer_sec=b%60,$("#min_text").html(9>=timer_min?"0"+timer_min:timer_min),9>=timer_sec?($("#min_text").html($("#min_text").html()),$("#sec_text").html("0"+timer_sec)):($("#min_text").html($("#min_text").html()),$("#sec_text").html(timer_sec)),b>0?b--:($("#min_text").html("00"),$("#sec_text").html("00"),clearInterval(window.time),$(".dragging").trigger("mouseup"),freezeactivity(),$.colorbox($.extend({},colorBoxConfiguration,{href:"<p><b>Activity timed out. Click navigation button to the next question</b></p>",onComplete:onModalComplete,onCleanup:onModalCleanUp})))},1e3)}else $(".dragging").trigger("mouseup"),freezeactivity(),$.colorbox($.extend({},colorBoxConfiguration,{href:"<p><b>Activity timed out. Click navigation button to the next question</b></p>",onComplete:onModalComplete,onCleanup:onModalCleanUp}))},1e3)}function postMsgListener(a,b){var c=window.addEventListener?"addEventListener":"attachEvent",d=window[c],e="attachEvent"==c?"onmessage":"message";d(e,function(c){if(printButtonStatus(),"assesment"==c.data)"function"==typeof changeToAssessmentMode&&changeToAssessmentMode();else{var d=c.data.split("$$");"setData"==d[0]?Modernizr.load({nope:[d[1],d[2],d[3]],complete:function(){parsePostData(a,b)}}):"printData"==d[0]&&sendPostData("printData")}if("theme"==c.data.split("$$")[0])ThemeConfig.currentTheme=c.data.split("$$")[1];else if("maxtries"==c.data.split("$$")[0])isNaN(c.data.split("$$")[1])||(MAX_TRIES_PER_CARD=parseInt(c.data.split("$$")[1]));else if("getPageData"==c.data.split("$$")[0])try{getDataFromPlayer(c.data.split("$$")[1])}catch(c){}else"pauseAllMedia"==c.data.split("$$")[0]?"undefined"!=typeof pauseAllMedia&&pauseAllMedia():"setPageHeight"==c.data.split("$$")[0]&&"undefined"!=typeof setPageHeight&&resizePageContainer(parseInt(c.data.split("$$")[1]));if("multiColIconClicked"==c.data&&showHideMultiColumn(),"submitAnswerData"==c.data&&checkSubmitAnswer(),"showMeAnswerData"==c.data&&showmeAnswer(),"resetAnswerData"==c.data&&resetAnswer(),"localValueChanged"==c.data.split("$$")[0]){var e=c.data.split("$$")[1];changingLocaleValue(e)}if("isCopyRightValue"==c.data.split("$$")[0]){var f=new Function(c.data.split("$$")[1]);f()}},!1)}function changingLocaleValue(a){var b="../../";$('*[rel*="localize"]').localize("templets",{language:a,pathPrefix:b+"scripts/localization"})}function authorPreviewData(){var a,b,c,d,e=[],f="",g=$.query.get("sessionId");requiredParamsSetter=function(e,f){if("#"!=f)switch(e){case 0:a=f;break;case 1:diId=f;break;case 2:b=f;break;case 3:mode=f;break;case 4:break;case 5:break;case 6:break;case 7:c=f;break;case 8:localeSearch=-1!=f.indexOf("_")?f.slice(1):f;break;case 9:d=f}};var h=$.query.get("session");h&&$.ajax({type:"POST",url:"/CAPS/UrlEncryptionServlet?session="+h,dataType:"text",success:function(h){var i=h.split(",");$(i).each(requiredParamsSetter),f="Y"==d?"/authxmlfiles/client/"+c+"/topicxml/":"/authxmlfiles/topicxml/",e[0]=f+"Topic_"+b+".xml?sessionId="+g+"&userId="+a,e[1]=+f+"AssetRef_"+b+".xml?sessionId="+g+"&userId="+a,e[2]="/authxmlfiles/preview/config/config.xml",loadPageData(e[0],e[1],e[2])},error:function(a){}})}function parsePostData(a,b){if("undefined"!=typeof widgetSettings)ThemeConfig.currentTheme=widgetSettings.themeName;else try{ThemeConfig.currentTheme=window.parent.defaultTheme}catch(c){}dataObject=a.parseXML($.parseXML(topic),$.parseXML(assetRef),Configuration.parseXML($.parseXML(config))),b(dataObject)}function printButtonStatus(){var a="";a="function"!=typeof renderPrintDocument?"none":"block",window.parent.postMessage("printData$$"+a,"*")}function sendPostData(a,b){var c=a+"$$";if("setAudio"==a&&window.dataObject&&window.dataObject.directionAudio){var d=window.dataObject.directionAudio;c+=d.hasMedia+"$$",c+=d.urls["default"]+"$$",c+=d.alternateText}if("printData"==a)try{var e=JSON.stringify(renderPrintDocument());c+=e+"$$"}catch(f){c+="no_print_adaptor"}if("showMultiColIcon"==a&&(c+="showMultiColIcon"),"templateAudio"==a&&(c+="templateAudio"),a==dataObject.header&&(c=window.dataObject.header?"Header$$"+window.dataObject.header:"Header$$"),"hideOperationsContainer"==a&&(c="hideOperationsContainer$$"),"isShowMePrsnt"==a){var g=window.dataObject.IS_SHOWME;c=g?"showMe$$"+window.dataObject.templateIdentifier:"hideShowMe$$"+window.dataObject.templateIdentifier}if("isAttemptAgainPrsnt"==a){var h=window.dataObject.IS_ATTEMPT_AGAIN;c=h?"attemptAgain$$"+window.dataObject.templateIdentifier:"hideAttemptAgain$$"+window.dataObject.templateIdentifier}if("isResetPrsnt"==a){var i=window.dataObject.IS_RESET;c=i?"reset$$"+window.dataObject.templateIdentifier:"hideReset$$"+window.dataObject.templateIdentifier}window.parent.postMessage(c,"*")}function renderHeader(){dataObject.header?($("#header").html(dataObject.header),$("#header").addClass("commentable"),$("#header").attr("tabindex",previewTabIndexStart++)):$("#headerContainer").remove()}function renderDirectionAudioText(){if(mode!=PreviewModes.PLAYER_PREVIEW_MODE){if(dataObject.directionAudio&&dataObject.directionAudio.alternateText){$("#aside").show();var a=$("#trascriptContai");$("#directionAudioContainer").before($(a)),$(a).append("<a tabindex="+previewTabIndexStart++ +' id="view-transcript"><span rel="localize[audioTransc]">Audio Transcript</span></a>'),$("#audioTransc").attr("tabindex",previewTabIndexStart++).html(dataObject.directionAudio.alternateText),$("#trascriptContai a").bind((Modernizr.touch?"touchstart":"click")+" enter",function(){$("#audioTranscriptContainer").toggle(0,function(){ClientInformation.isMobileDevice()||($("#audioTranscriptContainer:visible").length?$("p",this).focus():$("#trascriptContainer a").focus())})})}}else $("#audioTransc").remove()}function renderDirectionAudio(){if(dataObject.directionAudio&&mode!=PreviewModes.PLAYER_PREVIEW_MODE){var a=AudioPlayerFactory.createPlayer("directionAudio","Direction Audio","directionAudioWrapper");$("#pageWrapper #directionAudioContainer").append(a),$("#directionAudio").jPlayer({ready:function(){$(this).jPlayer("setMedia",{mp3:dataObject.directionAudio.urls.mp3,oga:dataObject.directionAudio.urls.oga}),$("#directionAudioContainer a").enterEnabled(),$("#directionAudioContainer a").bind("enter",function(){$(this).click()}),dataObject.directionAudio.autoPlay&&$(this).jPlayer("play")},play:function(){$("#directionAudioWrapper .jp-pause").focus()},pause:function(){$("#directionAudioWrapper .jp-play").focus()},swfPath:"../../scripts/plugins/jPlayer/",supplied:"mp3,oga",wmode:"window",cssSelectorAncestor:"#directionAudioWrapper"}),$("#directionAudioWrapper .jp-play").attr("tabindex",previewTabIndexStart++),$("#directionAudioWrapper .jp-pause").attr("tabindex",previewTabIndexStart++),$("#directionAudioWrapper .jp-stop").attr("tabindex",previewTabIndexStart++)}else $("#directionAudioContainer").remove();mode==PreviewModes.PLAYER_PREVIEW_MODE&&$("#directionAudioContainer").remove()}function renderDirection(){dataObject.direction||dataObject.introduction?(dataObject.direction&&$("#description").html(dataObject.direction),dataObject.introduction&&$("#description").html(dataObject.introduction),$("#description").addClass("commentable"),$("#description").attr("tabindex",previewTabIndexStart++),$("#description").attr("id","introduction")):$("#descriptionContainer").remove()}function renderInstruction(){dataObject.instruction?($("#instruction").html(dataObject.instruction),$("#instruction").addClass("commentable"),$("#instruction").attr("tabindex",previewTabIndexStart++)):$("#instructionContainer").remove()}function renderHintInformation(){function a(a){a.stopPropagation()}function b(a){var b=a.data.context,c=b.getTrigger().data("tooltip");c.hide()}$("#hintContentContainer").empty(),dataObject.hintInformation?($("#hintButton").attr("tabindex",previewTabIndexStart++),$("#hintButton").enterEnabled(),$("#hintButton").bind("enter",function(a){a.stopPropagation(),$(this).click()}),$("#hintButton").tooltip({relative:!0,position:"top right",events:{def:"click enter, mousedownoutside keydownoutside",tooltip:"mouseover touchstart, mouseleave touchend blur click keypress"},onShow:function(){ClientInformation.isMobileDevice()||this.getTip().focus(),this.getTip().bind("mousedown keypress",a),$(document).bind("DOMMouseScroll mousewheel touchstart",{context:this},b),$(window).bind("resize",{context:this},b)},onBeforeHide:function(){ClientInformation.isMobileDevice()||this.getTrigger().focus(),this.getTip().unbind("mousedown keypress",a),$(document).unbind("DOMMouseScroll mousewheel touchstart",b),$(window).unbind("resize",b)}}).dynamic(),dataObject.hintInformation.text&&$("#hintContentContainer").append(dataObject.hintInformation.text),$("#hintContentContainer").attr("tabindex",previewTabIndexStart++)):$("#hintContainer").remove()}function renderExampleInformation(){if($("#exampleContentWrapper").empty(),dataObject.exampleInformation){if($("#exampleContainer a").attr("tabindex",previewTabIndexStart++),dataObject.exampleInformation.media&&dataObject.exampleInformation.media.hasMedia){var a=dataObject.exampleInformation.media,b=mediaImage.createElement(a);if($("#exampleContentWrapper").append(b),previewTabIndexStart=mediaImage.setTabIndices(b,previewTabIndexStart),!ClientInformation.isMobileDevice()&&dataObject.rolloverCaption&&($(b).find(".caption").remove(),dataObject.exampleInformation.media.caption)){var c=dataObject.exampleInformation.media.caption;$(b).find("img").attr("title",$(c).text())}}if(dataObject.exampleInformation.text){var d=$('<div class="info">'+dataObject.exampleInformation.text+"</div>");$("#exampleContentWrapper").append(d),$(d).children().attr("tabindex",previewTabIndexStart++)}else $("#exampleContentWrapper").addClass("mediaOnlyExample");var e=$("<div/>");$(e).addClass("clearFloat"),$("#exampleContentWrapper").append(e),$("#exampleContainer a").enterEnabled(),$("#exampleContainer a").bind("enter",function(a){a.stopPropagation(),$(this).click()}),$("#exampleContainer a").bind("click",function(){});var f=$("#exampleContentWrapper");$("#exampleContainer a").click(function(){$.colorbox($.extend({},colorBoxConfiguration,{href:f,onComplete:function(){onModalComplete()},onCleanup:onModalCleanUp,onClosed:function(){onModalClose(),$("#exampleContainer a").focus()}}))})}else $("#exampleContainer").remove()}function getDefaultIScrollConfiguration(){return{hScroll:!1,bounce:!1,useTransform:ClientInformation.isIPad()&&ClientInformation.iOSVersion()?!1:!0,hScrollbar:ClientInformation.isIPad()&&ClientInformation.iOSVersion()<5?!1:!0,vScrollbar:ClientInformation.isIPad()&&ClientInformation.iOSVersion()<5?!1:!0,hideScrollbar:!0}}function onInlineImgLoaded(){image_count++;try{image_count==$(".inlineImage").length&&setComponentDimentions()}catch(a){}}function limitText(a,b,c){a.value.length>c?a.value=a.value.substring(0,c):b.value=c-a.value.length}function refreshPage(){var a=jQuery.Event("refresh");$(window).trigger(a)}function themeInstructionChanger(){if(window.ThemeConfig&&(ThemeConfig.currentTheme==ThemeVariation.PURE_GREEN||ThemeConfig.currentTheme==ThemeVariation.ORANGEADE||ThemeConfig.currentTheme==ThemeVariation.AQUA)){var a=$("<div id='descriptionDiv' ><div class="+window.className+" ></div></div>");$("#descriptionDiv").size()||($("#instruction").before(a),$("#pageInstruction").before(a))}}function doLocalizationChanges(){var a=$.query.get("locale"),b="../../";if(""==a){b="core/";try{a=widgetSettings.locale}catch(c){window.console}}a&&applyLocale(a,b),mode==PreviewModes.SEARCH_PREVIEW_MODE&&applyLocale(localeSearch,"../../")}function applyLocale(a,b){$('*[rel*="localize"]').localize("templets",{language:a,pathPrefix:b+"scripts/localization"})}function resizePageContainer(a){$("#pageContainer").height(a)}function setPageHeight(){}function updatePageScrolling(){}function processGlossary(a){function b(a){var b=a.data.context,c=b.getTrigger().data("tooltip");c.hide(),a.stopPropagation(),a.preventDefault()}$(a).each(function(){$(this).attr("title");$(this).removeAttr("onclick"),$(this).removeAttr("target")}),$(a).unbind("click").tooltip({position:"top center",tipClass:"glossaryDescriptionWrapper",layout:'<div tabindex="0"></div>',events:{def:"click enter, mousedownoutside keypressoutside",tooltip:"touchstart, touchend blur enter"},onBeforeShow:function(){setTimeout(function(){var a=this.getTip();if(0==a.find(".tipContentWrapper").size()){var b=a.html();"@#@#@#@#"==b&&(b=$("div#"+$(this.getTrigger()).attr("id")+"tip").html());var c=$('<p tabindex="0" class="tipContentWrapper"></p>');$(c).append(b),a.html($(c))}if(0==a.find(".closeButtonWrapper").size()){var d=$('<span class="closeButtonWrapper"><a class="closeGlossary" href="javascript:;">Close</a></span>');a.append(d)}},1e3)},onShow:function(a){a.stopPropagation(),!Modernizr.boxshadow,this.getTip().find(".closeGlossary").bind("click",{context:this},b),$(document).bind("DOMMouseScroll mousewheel touchstart",{context:this},b),$.browser.msie&&$.browser.version<=8?$(window).bind("transcriptClosed",{context:this},b):$(window).bind("resize transcriptClosed",{context:this},b),this.getTip().find(".tipContentWrapper").bind("blur",{context:this},b),this.getTrigger().addClass("highlightedGlossaryTerm"),this.getTip().find(".tipContentWrapper").focus();var c=parseInt(this.getTip().parent().css("width")),d=c-10,e=parseInt(this.getTip().parent().css("height")),f=parseInt(this.getTip().css("height")),g=e-10;f>g&&this.getTip().css("width",d);var h=parseInt(this.getTip().css("width"));h>d&&(window.console,this.getTip().css("width",d-40));var i=parseInt(this.getTip().css("width")),j=parseInt(this.getTip().css("left")),k=i+j;k>c&&(window.console,this.getTip().css("left",c-(i+5)));var l=parseInt(this.getTip().css("height")),m=parseInt(this.getTip().css("top")),n=parseInt(this.getTip().parent().css("height")),o=l+m;o>n&&(window.console,this.getTip().css("top",n-(l+5))),parseInt(this.getTip().css("top"))<0&&(window.console,this.getTip().css("top","5px")),parseInt(this.getTip().css("left"))<0&&(window.console,this.getTip().css("left","5px"))},onBeforeHide:function(){$(document).unbind("DOMMouseScroll mousewheel touchstart",b),$(window).unbind("resize transcriptClosed",b),this.getTip().find(".tipContentWrapper").unbind("blur",b),this.getTrigger().removeClass("highlightedGlossaryTerm"),this.getTrigger().focus()}}).dynamic()}function tfLFlink_onClick(){}function addSupportForArtificialOuterShadow(a){$(a).addClass("hasArtificialOuterShadow");var b=$("<div class='outerShadowElement corner topLeftCorner' />");$(a).append(b);var c=$("<div class='outerShadowElement corner topRightCorner' />");$(a).append(c);var d=$("<div class='outerShadowElement corner bottomRightCorner' />");$(a).append(d);var e=$("<div class='outerShadowElement corner bottomLeftCorner' />");$(a).append(e);var f=$("<div class='outerShadowElement side topSide' />");$(a).append(f);var g=$("<div class='outerShadowElement side rightSide' />");$(a).append(g);var h=$("<div class='outerShadowElement side bottomSide' />");$(a).append(h);var i=$("<div class='outerShadowElement side leftSide' />");return $(a).append(i),a}function removeSupportForArtificialOuterShadow(a){return $(a).removeClass("hasArtificialOuterShadow"),$(a).find(".outerShadowElement").remove(),a}function addSupportForArtificialOuterGlow(a){$(a).addClass("hasArtificialOuterGlow");var b=$("<div class='outerGlowElement corner topLeftCorner' />");$(a).append(b);var c=$("<div class='outerGlowElement corner topRightCorner' />");$(a).append(c);var d=$("<div class='outerGlowElement corner bottomRightCorner' />");$(a).append(d);var e=$("<div class='outerGlowElement corner bottomLeftCorner' />");$(a).append(e);var f=$("<div class='outerGlowElement side topSide' />");$(a).append(f);var g=$("<div class='outerGlowElement side rightSide' />");$(a).append(g);var h=$("<div class='outerGlowElement side bottomSide' />");$(a).append(h);var i=$("<div class='outerGlowElement side leftSide' />");return $(a).append(i),a}function removeSupportForArtificialOuterGlow(a){return $(a).removeClass("hasArtificialOuterGlow"),$(a).find(".outerGlowElement").remove(),a}function addSupportForArtificialInnerShadow(a){$(a).addClass("hasArtificialInnerShadow");var b=$("<div class='innerShadowElement corner topLeftCorner' />");$(a).append(b);var c=$("<div class='innerShadowElement corner topRightCorner' />");$(a).append(c);var d=$("<div class='innerShadowElement corner bottomRightCorner' />");$(a).append(d);var e=$("<div class='innerShadowElement corner bottomLeftCorner' />");$(a).append(e);var f=$("<div class='innerShadowElement side topSide' />");$(a).append(f);var g=$("<div class='innerShadowElement side rightSide' />");$(a).append(g);var h=$("<div class='innerShadowElement side bottomSide' />");$(a).append(h);var i=$("<div class='innerShadowElement side leftSide' />");return $(a).append(i),a}function removeSupportForArtificialInnerShadow(a){return $(a).removeClass("hasArtificialInnerShadow"),$(a).find(".innerShadowElement").remove(),a}function addSupportForArtificialTabTopShadow(a){$(a).addClass("hasArtificialTabShadow");var b=$(a).find("a"),c=$("<div class='outerShadowElement side tabTopShadow' />");$(b).append(c);var d=$("<div class='outerShadowElement side tabRightShadow' />");$(b).append(d);var e=$("<div class='outerShadowElement corner tabTopLeftCorner' />");$(b).append(e);var f=$("<div class='outerShadowElement corner tabTopRightCorner' />");$(b).append(f)}function addSupportForArtificialTabTopBoxShadow(a){$(a).addClass("hasArtificialTabTopBoxShadow");var b=$("<div class='outerShadowElement side boxRightShadow' />");$(a).append(b);var c=$("<div class='outerShadowElement side boxBottomShadow' />");$(a).append(c);var d=$("<div class='outerShadowElement corner boxBottomLeftCorner' />");
$(a).append(d);var e=$("<div class='outerShadowElement corner boxBottomRightCorner' />");$(a).append(e)}function addSupportForArtificialTabBotShadow(a){$(a).addClass("hasArtificialTabShadow");var b=$(a).find("a"),c=$("<div class='outerShadowElement side tabBotShadow' />");$(b).append(c);var d=$("<div class='outerShadowElement side tabRightShadow' />");$(b).append(d);var e=$("<div class='outerShadowElement corner tabBotLeftCorner' />");$(b).append(e);var f=$("<div class='outerShadowElement corner tabBotRightCorner' />");$(b).append(f)}function addSupportForArtificialTabBotBoxShadow(a){$(a).addClass("hasArtificialTabTopBoxShadow");var b=$("<div class='outerShadowElement side boxRightShadow' />");$(a).append(b);var c=$("<div class='outerShadowElement side boxBottomShadow' />");$(a).append(c);var d=$("<div class='outerShadowElement corner boxTopLeftCorner' />");$(a).append(d);var e=$("<div class='outerShadowElement corner boxTopRightCorner' />");$(a).append(e)}function addSupportForArtificialTabSideShadow(a){$(a).addClass("hasArtificialTabShadow");var b=$(a).find("a"),c=$("<div class='outerShadowElement side tabBotShadow' />");$(b).append(c);var d=$("<div class='outerShadowElement side tabLeftShadow' />");$(b).append(d);var e=$("<div class='outerShadowElement corner topLeftCorner' />");$(b).append(e);var f=$("<div class='outerShadowElement corner botLeftCorner' />");$(b).append(f)}function addSupportForArtificialTabSideBoxShadow(a){$(a).addClass("hasArtificialTabBoxShadow");var b=$("<div class='outerShadowElement side boxRightShadow' />");$(a).append(b);var c=$("<div class='outerShadowElement side boxBottomShadow' />");$(a).append(c);var d=$("<div class='outerShadowElement corner boxTopRightCorner' />");$(a).append(d);var e=$("<div class='outerShadowElement corner boxBotRightCorner' />");$(a).append(e);var f=$("<div class='outerShadowElement corner boxBotLeftCorner' />");$(a).append(f)}function addSupportForArtificialGlossaryShadow(a){if(!$(a).hasClass("hasArtificialGlossaryShadow")){$(a).addClass("hasArtificialGlossaryShadow");var b=$("<div class='outerShadowElement side leftShadow' />");$(a).append(b);var c=$("<div class='outerShadowElement side rightShadow' />");$(a).append(c);var d=$("<div class='outerShadowElement side topShadow' />");$(a).append(d);var e=$("<div class='outerShadowElement side botShadow' />");$(a).append(e);var f=$("<div class='outerShadowElement corner leftTopCorner' />");$(a).append(f);var g=$("<div class='outerShadowElement corner rightTopCorner' />");$(a).append(g);var h=$("<div class='outerShadowElement corner leftBotCorner' />");$(a).append(h);var i=$("<div class='outerShadowElement corner rightBotCorner' />");$(a).append(i)}}function focusFirstTabindexItem(){$("*[tabindex=100]").focus()}function focusLastTabindexItem(){setTimeout(function(){$("*[tabindex]:visible:last").focus()},1)}function announceFirstItemShiftTab(){sendPostData("firstItemShiftTab")}function announceLastItemTab(){sendPostData("announceLastItemTab")}function contentItemsFocusBlurMethods(){$("*[tabindex]").makeFocusOutDirectionEnabled(),$("*[tabindex]:visible:first").bind("blur",firstElementFocusOut),$("*[tabindex]:visible:last").bind("blur",lastElementFocusOut),$(document).bind("keypress",onTabKeyPress)}function onTabKeyPress(a){var b=9,c=a.keyCode?a.keyCode:a.which;c==b&&announceTabPress()}function firstElementFocusOut(a){$(a.target).focusOutDirection()<0&&announceFirstItemShiftTab()}function lastElementFocusOut(a){$(a.target).focusOutDirection()>0&&announceLastItemTab()}function announceTabPress(){sendPostData("tabPress")}function hideButtons(a,b,c){var d=a,e=b,f=c;"newTemplateSettings"==dataObject.settingsversion?(dataObject.IS_ATTEMPT_AGAIN&&($(e).show(),$(".attemptagain").show()),dataObject.IS_SHOWME&&($(d).show(),$(".showMeButton").show()),0==dataObject.is_settings?($(f).hide(),$(".resetMeButton").hide()):1==dataObject.IS_RESET?($(f).show(),$(".resetMeButton").show()):1!=dataObject.IS_RESET&&($(f).hide(),$(".resetMeButton").hide())):(dataObject.IS_ATTEMPT_AGAIN&&dataObject.IS_RESET&&($(e).show(),$(".attemptagain").show()),dataObject.IS_SHOWME&&($(d).show(),$(".showMeButton").show()),0==dataObject.is_settings&&($(d).show(),$(".showMeButton").show()),0==dataObject.is_settings&&($(f).hide(),$(".resetMeButton").hide()))}function dispatchHeaderData(){sendPostData(dataObject.header?dataObject.header:"")}function disableButton(a){ThemeConfig.currentTheme==ThemeVariation.AQUA&&"undefined"==typeof widgetSettings&&window.parent.postMessage("disableButton$$"+a,"*")}function enableButton(a){ThemeConfig.currentTheme==ThemeVariation.AQUA&&"undefined"==typeof widgetSettings&&window.parent.postMessage("enableButton$$"+a,"*")}ThemeVariation.PURE_GREEN="Pure green",ThemeVariation.ORANGEADE="Orangeade",ThemeVariation.SKY_BLUE="Sky Blue",ThemeVariation.APPLE_GREEN="Apple Green",ThemeVariation.SUMMER_NOON="Summer Noon",ThemeVariation.CORUCOS_FLOWER="Corucos Flower",ThemeVariation.DARK_ORANGE="Dark Orange",ThemeVariation.AQUA="Aqua",CategorizeVariations.CAT_SIDE_BY_SIDE="CAT_SIDE_BY_SIDE",CategorizeVariations.CAT_ABOVE_BELOW="CAT_ABOVE_BELOW",CategorizeVariationsNames[CategorizeVariations.CAT_SIDE_BY_SIDE]="Categorize(Right-aligned items)",CategorizeVariationsNames[CategorizeVariations.CAT_ABOVE_BELOW]="Categorize(Bottom-aligned items)",ctrVariations.template1="template1",ctrVariations.template2="template2",ctrVariations.template3="template3",ctrVariationsNames[ctrVariations.template1]="Click-to-Reveal text on the Top",ctrVariationsNames[ctrVariations.template2]="Click-to-Reveal Bulleted Text",ctrVariationsNames[ctrVariations.template3]="Click-to-Reveal Text/Image Grid with Pop-up",DecisionTreeVariations.DECISION_TREE="DECISION_TREE",DecisionTreeVariationsNames[DecisionTreeVariations.DECISION_TREE]="Decision Tree",DragDropSortVariations.DDS_ABOVE_BELOW="DDS_ABOVE_BELOW",DragDropSortVariationsNames[DragDropSortVariations.DDS_ABOVE_BELOW]="Drag and Drop Sorting",FibVariations.FIB_DROPDOWN="FIB_DROPDOWN",FibVariations.FIB_TEXT="FIB_TEXT",FibVariationsNames[FibVariations.FIB_DROPDOWN]="Fill-in-the-Blank (Dropdown)",FibVariationsNames[FibVariations.FIB_TEXT]="Fill-in-the-Blank (Input Type)",HotspotVariations.HOTSPOT_RECT="HOTSPOT_70",HotspotVariations.HOTSPOT_CIRC="HOTSPOT_150",HotspotVariations.HOTSPOT_CTR="HOTSPOT_CTR",HotspotVariationsNames[HotspotVariations.HOTSPOT_RECT]="DnD Image Labeling 70 chars",HotspotVariationsNames[HotspotVariations.HOTSPOT_CIRC]="DnD Image Labeling 150 chars",HotspotVariationsNames[HotspotVariations.HOTSPOT_CTR]="Image Labeling Click To Reveal",MatchPairsVariations.MATCH_PAIRS_HORIZONTAL="MATCH_PAIRS_HORIZONTAL",MatchPairsVariations.MATCH_PAIRS_VERTICAL="MATCH_PAIRS_VERTICAL",MatchPairsVariations.MATCH_PAIRS_DRAW_LINES="MATCH_PAIRS_DRAW_LINES",MatchPairsVariations.MATCH_PAIRS_SIDE_BY_SIDE="MATCH_PAIRS_SIDE_BY_SIDE",MatchPairsVariationsNames[MatchPairsVariations.MATCH_PAIRS_HORIZONTAL]="Match the Pairs",MatchPairsVariationsNames[MatchPairsVariations.MATCH_PAIRS_VERTICAL]="Match the Pairs (Vertical)",MatchPairsVariationsNames[MatchPairsVariations.MATCH_PAIRS_DRAW_LINES]="Match the Pairs (Draw Lines)",MatchPairsVariationsNames[MatchPairsVariations.MATCH_PAIRS_SIDE_BY_SIDE]="Match the Pairs (Side by Side)",SequenceVariations.DSQ_12_00="DSQ_12_00",SequenceVariations.DSQ_12_01="DSQ_12_01",SequenceVariationsNames[SequenceVariations.DSQ_12_00]="Drag and Drop Sequencing (Vertical)",SequenceVariationsNames[SequenceVariations.DSQ_12_01]="Drag and Drop Sequencing (Timeline)",TeachScreenVariations.TS_TL_IR="TS_TL_IR",TeachScreenVariations.TS_IT_TB="TS_IT_TB",TeachScreenVariations.TS_TL_IR_IL_TR="TS_TL_IR_IL_TR",TeachScreenVariations.TS_TL_IR_TL_IR="TS_TL_IR_TL_IR",TeachScreenVariations.TS_TT_IB_IB="TS_TT_IB_IB",TeachScreenVariations.TS_TIB="TS_TIB",TeachScreenVariationsNames[TeachScreenVariations.TS_TL_IR]="Image on Right and Text on Left",TeachScreenVariationsNames[TeachScreenVariations.TS_IT_TB]="Image on Top and Text at the Bottom",TeachScreenVariationsNames[TeachScreenVariations.TS_TL_IR_IL_TR]="Images at Top-right and Bottom-left",TeachScreenVariationsNames[TeachScreenVariations.TS_TL_IR_TL_IR]="Images on Right and Text on Left",TeachScreenVariationsNames[TeachScreenVariations.TS_TT_IB_IB]="Images ar the Bottom and Text on Top",TeachScreenVariationsNames[TeachScreenVariations.TS_TIB]="Text with Image Blocks",VideoVariations.VT_05_00="VT_05_00",AssetUtils.extractAssetIdFromSource=function(a){var b=null,c=/[A-Z]{3}_[A-Z0-9]{15}/g,b=a.match(c);return b||(b=[]),b},AssetUtils.prepareAssetReferenceMap=function(a){var b={};if(a){var c=$(a).find("asset");$(c).each(function(){b[$(this).find("id").text()]=-1!=$(this).find("url").text().indexOf("<![CDATA[")?$(this).find("url").text().split("<![CDATA[")[1].split("]]>")[0]:$(this).find("url").text()})}return b},AssetUtils.replaceAssetIDwithURLs=function(a,b){var c=a,d=AssetUtils.extractAssetIdFromSource(a);return $(d).each(function(){c=b[this]?c.replace(this,b[this]?b[this]:""):c.replace(this,b[this]?b[this]:this)}),c},AssetUtils.replaceMirageWithActualTable=function(a,b){var c=a,d=AssetUtils.extractAssetIdFromSource(a);return $(d).each(function(){if(this.indexOf("MML_")>-1&&b[this]){var a=new RegExp("<img[^</>]+?"+this+".+?/>");c=c.replace(a,"</p>"+b[this]+"<p>")}}),c=c.replace(/<p><\/p>/g,"")},AssetUtils.prepareCommentReferenceMap=function(a){var b={};if(a){var c=$(a).find("component");$(c).each(function(){var a=new Bugs,c=this;$($(this).find("bug")).each(function(){var b={},d=new Bug;if(PreviewModes.INVALID_STATUS!=$(this).children("status").text()){b.id=$(this).children("id").text(),b.x=$(this).find("x").text(),b.y=$(this).find("y").text(),b.selectedText=$(this).find("selectedText").text(),b.description=$(this).children("description").text(),b.priority=$(this).find("priority").text(),b.status=$(this).children("status").text(),b.componentId=$(c).attr("id"),b.name=$(this).find("name").text(),b.iconPath=$(this).find("icon").text(),b.componentId=$(this).find("componentId").text(),b.color=$(this).children("color").text(),b.bugTypeName=$(this).find("bugTypeName").text(),b.taskId=$(this).find("taskId").text(),b.bugTypeId=$(this).find("bugTypeId").text(),b.bugStatusId=$(this).find("bugStatusId").text(),b.userName=$(this).find("userName").text(),b.date=$(this).find("date").text(),b.formattedDate=formateDate(b.date),b.mode=mode==PreviewModes.REVIEWER_PREVIEW_MODE&&b.status==PreviewModes.NEW_STATUS?"editMode":mode==PreviewModes.AUTHOR_PREVIEW_MODE&&b.status==PreviewModes.CLOSED_STATUS?"readonly":"replyMode";var e=[];$($(this).find("reply")).each(function(){var a={};a.id=$(this).find("id").text(),a.description=$(this).children("description").text(),a.status=$(this).children("status").text(),a.replyBy=$(this).find("replyBy").text(),a.replyOn=$(this).find("replyOn").text(),a.bugId=$(this).find("bugId").text(),e.push(a)}),b.replies=e,d.set(b),a.add(d),window.totalBugs.add(d)}}),b[$(this).attr("id")]=a})}return b},AssetUtils.returnBugsList=function(a){if(a){var b=$(a).find("bug"),c=new Bugs;$(b).each(function(){var a=this,b=new Bug,d={};if(PreviewModes.INVALID_STATUS!=$(this).children("status").text()){d.id=$(this).children("id").text(),d.x=$(this).find("x").text(),d.y=$(this).find("y").text(),d.selectedText=$(this).find("selectedText").text(),d.description=$(this).children("description").text(),d.priority=$(this).find("priority").text(),d.status=$(this).children("status").text(),d.componentId=$(a).attr("id"),d.name=$(this).find("name").text(),d.iconPath=$(this).find("icon").text(),d.componentId=$(this).find("componentId").text(),d.color=$(this).children("color").text(),d.bugTypeName=$(this).find("bugTypeName").text(),d.taskId=$(this).find("taskId").text(),d.bugTypeId=$(this).find("bugTypeId").text(),d.bugStatusId=$(this).find("bugStatusId").text(),d.userName=$(this).find("userName").text(),d.date=$(this).find("date").text();var e=[];$($(a).find("reply")).each(function(){var a={};a.id=$(this).children("id").text(),a.description=$(this).children("description").text(),a.status=$(this).children("status").text(),a.replyBy=$(this).find("replyBy").text(),a.replyOn=$(this).find("replyOn").text(),a.bugId=$(this).find("bugId").text(),e.push(a)}),d.replies=e,b.set(d),c.add(d)}})}return c},AudioPlayerFactory.createPlayer=function(a,b,c){var d='<div id="'+a+'" class="jp-jplayer"></div><div id="'+c+'" class="jp-audio"><div class="jp-type-single"><div class="jp-gui jp-interface"><ul class="jp-controls"><li><a href="javascript:;" class="jp-play"><span>play</span></a></li><li><a href="javascript:;" class="jp-pause"><span>pause</span></a></li><li><a href="javascript:;" class="jp-stop"><span>stop</span></a></li><li><a href="javascript:;" class="jp-mute" title="mute"><span>mute</span></a></li><li><a href="javascript:;" class="jp-unmute" title="unmute"><span>unmute</span></a></li><li><a href="javascript:;" class="jp-volume-max" title="max volume"><span>max volume</span></a></li></ul><div class="jp-progress"><div class="jp-seek-bar"><div class="jp-play-bar"><div class="jp-play-bar-thumb"></div></div></div></div><div class="jp-volume"><div class="jp-volume-bar"><div class="jp-volume-bar-value"><div class="jp-volume-bar-thumb"></div></div></div></div><div class="jp-time-holder"><div class="jp-current-time"></div><div class="jp-duration"></div><ul class="jp-toggles"><li><a href="javascript:;" class="jp-repeat" title="repeat"><span>repeat</span></a></li><li><a href="javascript:;" class="jp-repeat-off" title="repeat off"><span>repeat off</span></a></li></ul></div></div><div class="jp-title"><ul><li>'+b+'</li></ul></div><div class="jp-no-solution"><span>Update Required</span>To play the media you will need to either update your browser to a recent version or update your <a href="http://get.adobe.com/flashplayer/" target="_blank">Flash plugin</a>.</div></div></div>';return $(d)},Configuration.prototype.assetLocation="",Configuration.parseXML=function(a){var b=new Configuration;if($(a).find("assetLocation").size()){var c=$(a).find("assetLocation").text();b.assetLocation=c}return b},ExampleAdapter.parseXML=function(a,b){if(!b)throw"Asset Reference Map not provided";var c={};$.trim($(a).children("p").text())&&(c.text=AssetUtils.replaceAssetIDwithURLs(TLFToHTMLAdapter.convertToHTMLString($(a).children("p").text()),b));var d=$(a).find('div[class*="media"]');return $(d).size()&&$(d).find("img").attr("src")&&(c.media=MediaElementAdapter.parseXML(d[0],b)),c.text||c.media||(c=null),c},ExampleAdapter.isExampleDataEmpty=function(a){return $.trim($(a).children("p").text())||$(a).find("img").attr("src")?!1:!0},HintAdapter.parseXML=function(a,b){if(!b)throw"Asset Reference Map not provided";var c={};return $.trim($(a).children("p").text())&&(c.text=TLFToHTMLAdapter.convertToHTMLString($(a).children("p").text())),c.text||(c=null),c},HintAdapter.isHintDataEmpty=function(a){return $.trim($(a).children("p").text())?!1:!0},MediaElementAdapter.parseXML=function(a,b){if(!b)throw"Asset Reference Map not provided";var c={};if($(a).find("img").size()?(c.type=MediaTypes.IMAGE,"relative"==$(a).find("img").attr("dimentionType")?($(a).find("img").attr("perWidth")&&(c.perWidth=$(a).find("img").attr("perWidth")),$(a).find("img").attr("perHeight")&&(c.perHeight=$(a).find("img").attr("perHeight"))):"absolute"==$(a).find("img").attr("dimentionType")&&($(a).find("img").attr("width")&&(c.width=$(a).find("img").attr("width")),$(a).find("img").attr("height")&&(c.height=$(a).find("img").attr("height")))):$(a).find('object[type*="audio"]').size()?c.type=MediaTypes.AUDIO:$(a).find('object[type*="video"]').size()?c.type=MediaTypes.VIDEO:($(a).find('object[type*="flash"]').size()||$(a).find('object[type*="animation"]').size())&&(c.type=MediaTypes.ANIMATION),c.hasMedia=$(a).attr("class")&&-1!=$(a).attr("class").indexOf("partial")?!0:!0,c.urls={},c.type==MediaTypes.IMAGE)b[AssetUtils.extractAssetIdFromSource($(a).find("img").attr("src"))]||(c.hasMedia=!1),c.hasMedia?(c.urls["default"]=b[AssetUtils.extractAssetIdFromSource($(a).find("img").attr("src"))],c.alternateText=$(a).find("img").attr("alt"),c.add=b[AssetUtils.extractAssetIdFromSource($(a).find("img").attr("src"))],c.addclass=$(a).attr("class")):$(a).find("img").attr("src")?(c.urls["default"]=b[AssetUtils.extractAssetIdFromSource($(a).find("img").attr("src"))],c.alternateText=$(a).find("img").attr("alt")):(c.urls["default"]="",c.alternateText="Image not available");else if(c.type==MediaTypes.AUDIO)if($(a).find("object").attr("data")){if(b[AssetUtils.extractAssetIdFromSource($(a).find("object").attr("data"))]||(c.hasMedia=!1),c.hasMedia){c.urls["default"]=b[AssetUtils.extractAssetIdFromSource($(a).find("object").attr("data"))];var d="",e=URLUtils.extractProtocol(c.urls["default"]);e&&(d+=e+"://"),d+=URLUtils.extractHost(c.urls["default"])+URLUtils.extractPath(c.urls["default"]);var f=FileUtils.extractFileNameWithoutExtension(URLUtils.extractFileName(c.urls["default"]));c.urls.mp3=d+f+".mp3",c.urls.oga=d+f+".ogg",c.urls.m4a=d+f+".mp4"}else c.urls["default"]="",c.urls.mp3="",c.urls.oga="",c.urls.m4a="";try{c.alternateText=TLFToHTMLAdapter.convertToHTMLString($(a).find("object").text())}catch(g){c.alternateText=$(a).find("object").text()}}else c.urls["default"]="",c.urls.mp3="",c.urls.oga="",c.urls.m4a="",c.alternateText="";else if(c.type==MediaTypes.VIDEO)if($(a).find("object").attr("class")&&-1!=$(a).find("object").attr("class").indexOf("youtube")){var h=/^.*((youtu.be\/)|(v\/)|(\/u\/\w\/)|(embed\/)|(watch\?))\??v?=?([^#\&\?]*).*/,i=$(a).find("object").attr("source").match(h);c.urls["default"]="http://www.youtube.com/embed/"+i[7],c.urls.webmv="",c.urls.ogv="",c.urls.m4v="",c.alternateText="";try{c.alternateText=TLFToHTMLAdapter.convertToHTMLString($(a).find("object").text())}catch(g){c.alternateText=$(a).find("object").text()}}else if($(a).find("object").attr("class")&&-1!=$(a).find("object").attr("class").indexOf("external")){c.urls["default"]=$(a).find("object").attr("data"),c.urls.webmv="",c.urls.ogv="",c.urls.m4v=$(a).find("object").attr("data"),c.alternateText="";try{c.alternateText=TLFToHTMLAdapter.convertToHTMLString($(a).find("object").text())}catch(g){c.alternateText=$(a).find("object").text()}}else if($(a).find("object").attr("data")){if(b[AssetUtils.extractAssetIdFromSource($(a).find("object").attr("data"))]||(c.hasMedia=!1),c.hasMedia)if(c.addclass=$(a).attr("class"),"media partial"==c.addclass)c.add=b[AssetUtils.extractAssetIdFromSource($(a).find("object").attr("data"))];else{c.urls["default"]=b[AssetUtils.extractAssetIdFromSource($(a).find("object").attr("data"))];var d="",e=URLUtils.extractProtocol(c.urls["default"]);e&&(d+=e+"://"),d+=URLUtils.extractHost(c.urls["default"])+URLUtils.extractPath(c.urls["default"]);var f=FileUtils.extractFileNameWithoutExtension(URLUtils.extractFileName(c.urls["default"]));c.urls.webmv=c.urls["default"],c.urls.ogv=c.urls["default"],c.urls.m4v=c.urls["default"]}else c.urls["default"]="",c.urls.webmv="",c.urls.ogv="",c.urls.m4v="";try{c.alternateText=TLFToHTMLAdapter.convertToHTMLString($(a).find("object").text())}catch(g){c.alternateText=$(a).find("object").text()}}else c.urls["default"]="",c.urls.webmv="",c.urls.ogv="",c.urls.m4v="",c.alternateText="";else c.type==MediaTypes.ANIMATION&&(-1!=$(a).attr("class").indexOf("partial")&&(c.hasMedia=!1),c.hasMedia?c.urls["default"]=b[AssetUtils.extractAssetIdFromSource($(a).find("object").attr("data"))]:c.instruction=b[AssetUtils.extractAssetIdFromSource($(a).find("object").attr("data"))],c.alternateText=$(a).find("object").text());return c.caption=$(a).find("p").size()?TLFToHTMLAdapter.convertToHTMLString($(a).find("p").text()):"",c},$(document).ready(function(){$(this).keydown(function(a){9==a.which&&$(".jp-jplayer").jPlayer("stop")})}),MediaTypes.ANIMATION="animation",MediaTypes.AUDIO="audio",MediaTypes.IMAGE="image",MediaTypes.VIDEO="video",Messages.INCORRECT="Incorrect. Please try again.",Messages.INCORRECT_LAST_TRY="Incorrect.",Messages.CORRECT="That's correct!",PageDataHandler.DATA_LOADED="dataLoaded",$(document).ready(function(){function a(){$("html").addClass("loaded")}$(document).bind(PageDataHandler.DATA_LOADED,a)}),PageDataProcessor.preprocessPageData=function(a){function b(a){for(var b=parseInt(a).toString(16);b.length<6;)b="0"+b;return b}function c(a){var c=$(a).find("div[id='table'] > div");return $(c).each(function(){var a=this,c=$(this).find("table"),d=$("<table></table>");$(d).attr("id",$(a).attr("id")),$(d).attr("class","dataTable");var e="";$(c).attr("border")&&(e+="border-width: "+$(c).attr("border")+";"),$(c).attr("tableBackgroundColor")&&(e+="background-color: #"+b($(c).attr("tableBackgroundColor"))+";"),$(c).attr("textColor")&&(e+="color: #"+b($(c).attr("textColor"))+";"),$(c).attr("textSize")&&(e+="font-size: "+$(c).attr("textSize")+"px;"),$(c).attr("textAlign")&&(e+="text-align: "+$(c).attr("textAlign").toLowerCase()+";"),$(d).attr("style",e);var f="none";if($(c).attr("header")&&(f=$(c).attr("header").toLowerCase()),$(c).find("caption").text()&&"None"!=$(c).find("caption").attr("position")){var g=$(c).find("caption"),h=$("<caption><span>"+TLFToHTMLAdapter.convertToHTMLString($(g).text())+"</span></caption>");$(d).append(h);var i="",j="";$(g).attr("backgroundColor")&&(j+="background-color: #"+b($(g).attr("backgroundColor"))+";"),$(g).attr("textAlign")&&(i+="text-align: "+$(g).attr("textAlign").toLowerCase()+";"),$(g).attr("textSize")&&(i+="font-size: "+$(g).attr("textSize")+"px;"),$(g).attr("textColor")&&(i+="color: #"+b($(g).attr("textColor"))+";"),$(h).attr("style",i),$(h).find("span").attr("style",j);var k=$(g).attr("position").toLowerCase();"top"==k?$(h).attr("align","top"):"bottom"==k&&$(h).attr("align","bottom")}var l=$(c).find("tr");$(l).each(function(a,b){var c=$("<tr></tr>");$(d).append(c);var e=$(b).find("td");$(e).each(function(b,d){var e=null;e=$(("row"==f||"both"==f)&&0==a||("column"==f||"both"==f)&&0==b?"<th></th>":"<td></td>"),$(e).html($(d).text()?TLFToHTMLAdapter.convertToHTMLString($(d).text()):"&nbsp;"),$(c).append(e)})});var m=$("<div/>").append($(d)).html();$(a).text(m)}),a}return c(a)},PageDataProcessor.extractTablesData=function(a){var b={},c=$(a).find("div[id='table'] > div");return $(c).each(function(a,c){b[$(c).attr("id")]=$(c).text()}),b},PageDataProcessor.postprocessPageData=function(a){return a},PreviewModes.DEVELOPER_MODE="developerMode",PreviewModes.AUTHOR_PREVIEW_MODE="authorPreviewMode",PreviewModes.SEARCH_PREVIEW_MODE="SPM",PreviewModes.PLAYER_PREVIEW_MODE="playerPreviewMode",PreviewModes.REVIEWER_PREVIEW_MODE="reviewerPreviewMode",PreviewModes.REVIEWER_CLARIFYING_MODE="reviewerClarifyingMode",PreviewModes.READ_ONLY_MODE="readOnlyMode",PreviewModes.LP_PREVIEW_MODE="lpPreviewMode",PreviewModes.NEW_STATUS="New",PreviewModes.CLOSED_STATUS="Closed",PreviewModes.INVALID_STATUS="Invalid",PreviewModes.REOPEN_STATUS="Reopen",PreviewModes.FIXED_STATUS="Fixed",PreviewModes.QUERY_STATUS="Query",PreviewModes.NEW_STATUS_ID=1,PreviewModes.CLOSED_STATUS_ID=6,PreviewModes.INVALID_STATUS_ID=5,PreviewModes.REOPEN_STATUS_ID=4,PreviewModes.FIXED_STATUS_ID=3,PreviewModes.QUERY_STATUS_ID=2,VideoPlayerFactory.createPlayer=function(a,b,c){var d='<div id="'+c+'" class="jp-video"><div class="jp-type-single"><div id="'+a+'" class="jp-jplayer"></div><div class="jp-gui"><div class="jp-video-play"><a href="javascript:;" class="jp-video-play-icon">play</a></div><div class="jp-interface"><div class="jp-progress"><div class="jp-seek-bar"><div class="jp-play-bar"></div></div></div><div class="jp-current-time"></div><div class="jp-duration"></div><div class="jp-controls-holder"><ul class="jp-controls"><li><a href="javascript:;" class="jp-play" title="play" titleLocale="title" rel="localize[play]"><span>play</span></a></li><li><a href="javascript:;" class="jp-pause" title="pause" titleLocale="title" rel="localize[pause]"><span>pause</span></a></li><li><a href="javascript:;" class="jp-stop" title="stop" titleLocale="title" rel="localize[stop]"><span>stop</span></a></li><li><a href="javascript:;" class="jp-mute" title="mute" titleLocale="title" rel="localize[mute]"><span>mute</span></a></li><li><a href="javascript:;" class="jp-unmute" title="unmute" titleLocale="title" rel="localize[unmute]"><span>unmute</span></a></li><li><a href="javascript:;" class="jp-volume-max" title="max volume" titleLocale="title" rel="localize[maxvol]"><span>max volume</span></a></li></ul><div class="jp-volume-bar"><div class="jp-volume-bar-value"></div></div><ul class="jp-toggles"><li><a href="javascript:;" class="jp-full-screen" title="full screen" titleLocale="title" rel="localize[fulscreen]"><span>full screen</span></a></li><li><a href="javascript:;" class="jp-restore-screen" title="restore screen" titleLocale="title" rel="localize[restscreen]"><span>restore screen</span></a></li><li><a href="javascript:;" class="jp-repeat" title="repeat" titleLocale="title" rel="localize[repeat]"><span>repeat</span></a></li><li><a href="javascript:;" class="jp-repeat-off" title="repeat off" titleLocale="title" rel="localize[repeat off]"><span>repeat off</span></a></li></ul></div><div class="jp-title"><ul><li>'+b+'</li></ul></div></div></div><div class="jp-no-solution"><span>Update Required</span>To play the media you will need to either update your browser to a recent version or update your <a href="http://get.adobe.com/flashplayer/" target="_blank">Flash plugin</a>.</div></div></div>';return $(d)};var xPos=0,yPos=0,commentToadd=!1,commonImagesPath="../../styles/images/",saveMode="update";$(document).ready(function(){$(document).bind(PageDataHandler.DATA_LOADED,function(){try{if(window.parent&&window.parent.parent&&window.parent.parent.loadBugsData&&(window.parent.parent.playerMode==PreviewModes.REVIEWER_PREVIEW_MODE||window.parent.parent.playerMode==PreviewModes.AUTHOR_PREVIEW_MODE||window.parent.parent.playerMode==PreviewModes.READ_ONLY_MODE)){var a="";void 0===window.$.ui?a="/authxmlfiles/tools/bugtracker/scripts/plugins/jQueryUI/jquery_ui_min.js":void 0===window.$.ui.draggable&&(a="/authxmlfiles/preview/scripts/plugins/jQueryUI/jquery_ui_min_drag_drop_sortable.js"),""!=a?Modernizr.load({nope:[a],complete:function(){window.$.ui&&window.$.ui.draggable?(initializeBugsTpesContainer(),window.parent.parent.loadBugsData(window)):setTimeout(function(){initializeBugsTpesContainer(),window.parent.parent.loadBugsData(window)},1500)}}):(initializeBugsTpesContainer(),window.parent.parent.loadBugsData(window));var b=window.addEventListener?"addEventListener":"attachEvent",c=window[b],d="attachEvent"==b?"onmessage":"message";c(d,function(a){"resize"==a.data&&window.setPageHeight()})}}catch(e){}})});var ColorBoxHelperFunctions={};ColorBoxHelperFunctions.onCloseButtonClick=function(a){return $.colorbox.close(),a.stopPropagation(),a.preventDefault(),!1};var keepFocusOnModalInetrvalIdentifier,colorBoxConfiguration={transition:"none",opacity:.45,inline:!0,maxWidth:"98%",maxHeight:"95%",overlayClose:!1,reposition:!1,close:"<a href='javascript:;'>Close</a>",returnFocus:!1,onOpen:onModalOpen,onCleanup:onModalCleanUp},ThemeConfig=function(){};window.template_state_flag=!0,$(window).unload(function(){if(window.template_state_flag)try{setDataToPlayer()}catch(a){}}),$("html").addClass($.client&&$.client.browser?$.client.browser:"unknown"),$("html").addClass("activity");var image_count=0;$(document).bind(PageDataHandler.DATA_LOADED,function(){var a="";$(this).find("table caption").length>0&&(a=$(this).find("table tbody").width(),$(this).find("table caption span").css("width",a)),themeInstructionChanger(),setTimeout(function(){doLocalizationChanges()},100),ClientInformation.isMobileDevice()&&($("*").each(function(){$(this).removeAttr("tabindex")}),$("*").bind("focus",function(a){a.preventDefault(),a.stopPropagation()}))}),$(document).bind(PageDataHandler.DATA_LOADED,function(){mode==PreviewModes.PLAYER_PREVIEW_MODE&&($("#directionAudioContainer").remove(),setPageHeight()),"undefined"!=typeof widgetSettings&&setPageHeight(),ClientInformation.isMobileDevice()&&mode==PreviewModes.PLAYER_PREVIEW_MODE&&$("#pageContainer img").bind("load",$.debounce(100,refreshPage)),$(window).bind("refresh",updatePageScrolling),$(window).bind("resize",setPageHeight)}),$(document).ready(function(){function a(){var a=$(".glossary[title]");processGlossary(a)}$(document).bind(PageDataHandler.DATA_LOADED,a),$.browser.msie&&$("body").addClass("ie")}),$(document).bind(PageDataHandler.DATA_LOADED,function(){setTimeout(function(){contentItemsFocusBlurMethods(),$("*[tabindex=100]").focus()},0)}),jQuery.fn.customButton=function(){$(this).each(function(){$(this).hover(function(){0==$(this).is(".disabled")&&$(this).addClass("hover")},function(){$(this).removeClass("hover")}).bind("onclick",function(){0==$(this).is(".disabled")&&$(this).addClass("active")},function(){$(this).removeClass("hover active")}).trigger("onclick").click(function(){$(this).trigger("onclick")})})},function(a){a.fn.offsetBeforeTransform=a.fn.offset,a.fn.offset=function(){var b=this.offsetBeforeTransform();return(a(this).closest("#pageWrapper").css("-moz-transform")||"").replace(/matrix\(([^\)]+)\)/,function(a,c){var d=c.split(",");b.left+=parseInt(d[4]),b.top+=parseInt(d[5])}),b}}(jQuery),/webkit.*mobile/i.test(navigator.userAgent)&&(!function(a){a.fn.positionOld=a.fn.position,a.fn.position=function(){var a=this.positionOld();return a.top+=window.scrollY,a.left+=window.scrollX,a}}(jQuery),function(a){a.fn.offsetOld=a.fn.offset,a.fn.offset=function(){var a=this.offsetOld();return a.top+=window.scrollY,a.left+=window.scrollX,a}}(jQuery));